{{if .Error}}
<div class="error-message">
    <i class="fas fa-exclamation-circle"></i> {{.Error}}
</div>
{{else if eq (len .Pacientes) 0}}
<div class="empty-state">
    <i class="fas fa-search"></i>
    <h3>No se encontraron resultados</h3>
    <p>Intenta con otros criterios de búsqueda</p>
</div>
{{else}}
<table>
    <thead>
        <tr>
            <th class="sortable" data-sort="id" title="Ordenar por ID">
                ID
                {{if eq .SortColumn "id"}}
                <i class="fas {{if eq .SortDirection " asc"}}fa-sort-up{{else}}fa-sort-down{{end}}"></i>
                {{else}}
                <i class="fas fa-sort"></i>
                {{end}}
            </th>
            <th class="sortable" data-sort="nombre" title="Ordenar por Nombre">
                Nombre
                {{if eq .SortColumn "nombre"}}
                <i class="fas {{if eq .SortDirection " asc"}}fa-sort-up{{else}}fa-sort-down{{end}}"></i>
                {{else}}
                <i class="fas fa-sort"></i>
                {{end}}
            </th>
            <th class="sortable" data-sort="apellido" title="Ordenar por Apellido">
                Apellido
                {{if eq .SortColumn "apellido"}}
                <i class="fas {{if eq .SortDirection " asc"}}fa-sort-up{{else}}fa-sort-down{{end}}"></i>
                {{else}}
                <i class="fas fa-sort"></i>
                {{end}}
            </th>
            <th class="sortable" data-sort="telefono" title="Ordenar por Teléfono">
                Teléfono
                {{if eq .SortColumn "telefono"}}
                <i class="fas {{if eq .SortDirection " asc"}}fa-sort-up{{else}}fa-sort-down{{end}}"></i>
                {{else}}
                <i class="fas fa-sort"></i>
                {{end}}
            </th>
            <th class="sortable" data-sort="email" title="Ordenar por Email">
                Email
                {{if eq .SortColumn "email"}}
                <i class="fas {{if eq .SortDirection " asc"}}fa-sort-up{{else}}fa-sort-down{{end}}"></i>
                {{else}}
                <i class="fas fa-sort"></i>
                {{end}}
            </th>
            <th class="actions-column">Acciones</th>
        </tr>
    </thead>
    <tbody>
        {{range .Pacientes}}
        <tr>
            <td>{{.ID}}</td>
            <td>{{.Nombre}}</td>
            <td>{{.Apellido}}</td>
            <td>{{if .Telefono}}{{.Telefono}}{{else}}<span class="text-muted">No registrado</span>{{end}}</td>
            <td>{{if .Email}}{{.Email}}{{else}}<span class="text-muted">No registrado</span>{{end}}</td>
            <td class="actions-cell">
                <div class="table-actions">
                    <a href="/pacientes/{{.ID}}" class="action-btn view-btn" title="Ver detalles">
                        <i class="fas fa-eye"></i>
                    </a>
                    <a href="/pacientes/{{.ID}}/editar" class="action-btn edit-btn" title="Editar">
                        <i class="fas fa-edit"></i>
                    </a>
                    <a href="/pacientes/{{.ID}}/eliminar" class="action-btn delete-btn" title="Eliminar">
                        <i class="fas fa-trash"></i>
                    </a>
                </div>
            </td>
        </tr>
        {{end}}
    </tbody>
</table>
{{end}}

<div class="table-footer">
    <div class="pagination">
        <span class="page-info">Mostrando {{len .Pacientes}} pacientes</span>
        <div class="page-controls">
            <button class="page-btn" disabled>
                <i class="fas fa-angle-left"></i>
            </button>
            <span class="page-current">1</span>
            <button class="page-btn" disabled>
                <i class="fas fa-angle-right"></i>
            </button>
        </div>
    </div>
</div>